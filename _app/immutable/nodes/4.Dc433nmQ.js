import"../chunks/DsnmJJEf.js";import"../chunks/JopTfo84.js";import{o as O}from"../chunks/DeuuMPu1.js";import{am as Q,an as p,a as n,aq as W,I as A,X as z,G as a,ao as l,ar as e,as as t,c as $,f as I,ap as Y}from"../chunks/BejU4HIw.js";import{s as d}from"../chunks/BLjFMkMr.js";import{i as B}from"../chunks/uwGYQglk.js";import{e as Z,i as aa}from"../chunks/aDD_XXT8.js";import{e as C}from"../chunks/DIWyVJ_t.js";import{s as ea}from"../chunks/Bm-2d31V.js";import{i as ta}from"../chunks/CAydSyLs.js";import{b as S}from"../chunks/Cbo23iZP.js";import{A as sa}from"../chunks/gz7YWXWY.js";var oa=p("<p>Cargando…</p>"),ia=p("<p>No tienes evaluaciones todavía.</p>"),ra=p('<div class="card svelte-cbyojb"><div style="display:flex;justify-content:space-between;align-items:start;"><div><h3 class="svelte-cbyojb"> </h3> <p class="meta svelte-cbyojb"> </p> <p class="meta svelte-cbyojb"> </p></div></div> <div style="font-size:13px;"><strong><span> </span></strong></div> <div class="actions svelte-cbyojb"><button class="btn svelte-cbyojb">Editar</button> <button class="btn svelte-cbyojb">Ver resultados</button></div></div>'),na=p('<div class="container svelte-cbyojb"><div class="header svelte-cbyojb"><strong>¡Bienvenido de nuevo!</strong> <p style="margin:4px 0 0;color:#6b7280;font-size:14px;">Accede a tus evaluaciones éticas anteriores y continúa tu progreso profesional.</p></div> <h2 style="margin:0 0 12px;font-size:18px;">¡Hola!</h2> <p style="margin:0 0 16px;color:#6b7280;font-size:14px;">Revisa y continúa con tus evaluaciones éticas anteriores</p> <div class="tabs svelte-cbyojb"><div class="tab active svelte-cbyojb">Últimas evaluaciones</div> <div class="tab svelte-cbyojb">Pilares éticos</div> <div class="tab svelte-cbyojb">Herramientas IA</div> <div class="tab svelte-cbyojb">KITMU</div></div> <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;"><h3 style="margin:0;font-size:15px;">Últimas evaluaciones</h3> <button class="btn primary svelte-cbyojb">+ Nueva evaluación ética</button></div> <!></div>');function ha(T,D){Q(D,!1);let c=z([]),h=z(!0);O(async()=>{try{const s=localStorage.getItem("access_token")||"",o=await fetch(`${sa}/evaluaciones/list`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",mode:"cors"});if(!o.ok)throw new Error(await o.text());A(c,await o.json()),console.log(a(c))}catch(s){console.error("Error cargando evaluaciones:",s.message)}finally{A(h,!1)}}),ta();var b=na(),G=l(e(b),10);{var H=s=>{var o=oa();n(s,o)},L=s=>{var o=$(),M=I(o);{var N=r=>{var v=ia();n(r,v)},P=r=>{var v=$(),R=I(v);Z(R,1,()=>a(c),aa,(q,i)=>{var m=ra(),u=e(m),j=e(u),f=e(j),K=e(f,!0);t(f);var y=l(f,2),U=e(y);t(y);var x=l(y,2),V=e(x);t(x),t(j),t(u);var _=l(u,2),w=e(_),g=e(w),X=e(g,!0);t(g),t(w),t(_);var E=l(_,2),k=e(E),F=l(k,2);t(E),t(m),Y(J=>{d(K,a(i).nombre),d(U,`Rol: ${a(i).rol??""} · Etapa: ${a(i).etapa??""}`),d(V,`Evaluado: ${J??""}`),ea(g,1,`estado ${a(i).estado??""}`,"svelte-cbyojb"),d(X,a(i).estado==="evaluado"?"Evaluado":"En progreso")},[()=>new Date(a(i).createdAt).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})]),C("click",k,()=>window.location.href=`${S}/evaluaciones/${a(i)._id}/checklist`),C("click",F,()=>window.location.href=`${S}/evaluaciones/${a(i)._id}/resultados`),n(q,m)}),n(r,v)};B(M,r=>{a(c).length===0?r(N):r(P,!1)},!0)}n(s,o)};B(G,s=>{a(h)?s(H):s(L,!1)})}t(b),n(T,b),W()}export{ha as component};
