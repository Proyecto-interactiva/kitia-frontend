import"../chunks/DsnmJJEf.js";import"../chunks/JopTfo84.js";import{am as P,an as $,ao as r,f as q,ap as k,G as e,a as E,aq as B,ar as n,I as o,X as p,as as c}from"../chunks/BejU4HIw.js";import{s as G}from"../chunks/BLjFMkMr.js";import{i as J}from"../chunks/uwGYQglk.js";import{r as A}from"../chunks/BCm52mzu.js";import{e as S}from"../chunks/DIWyVJ_t.js";import{b as I}from"../chunks/sa3Niana.js";import{i as N}from"../chunks/CAydSyLs.js";import{A as T}from"../chunks/gz7YWXWY.js";import{b as X}from"../chunks/BG5idG1z.js";var z=$('<p style="color:#b91c1c"> </p>'),D=$('<h1>Acceso</h1> <div class="card" style="max-width:420px"><div style="display:grid;gap:8px"><input class="input" placeholder="Email" type="email"/> <input class="input" placeholder="ContraseÃ±a" type="password"/> <!> <div style="display:flex; gap:8px"><button class="button">Entrar</button> <button class="button" style="background:#fff;color:#111;border:1px solid #e5e7eb">Crear cuenta</button></div></div></div>',1);function Z(j,C){P(C,!1);let d=p(""),m=p(""),s=p(""),i=p(!1);async function b(a){o(i,!0),o(s,"");try{const t=await fetch(`${T}/auth/${a}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e(d),password:e(m)}),credentials:"include",mode:"cors"});if(!t.ok)throw new Error(await t.text()||"Error");const l=await t.json();console.log("login data",l),localStorage.setItem("access_token",l.access_token),window.location.href=`${X}/inicio/`}catch(t){o(s,t.message)}finally{o(i,!1)}}N();var _=D(),g=r(q(_),2),h=n(g),f=n(h);A(f);var u=r(f,2);A(u);var y=r(u,2);{var O=a=>{var t=z(),l=n(t,!0);c(t),k(()=>G(l,e(s))),E(a,t)};J(y,a=>{e(s)&&a(O)})}var w=r(y,2),v=n(w),x=r(v,2);c(w),c(h),c(g),k(()=>{v.disabled=e(i),x.disabled=e(i)}),I(f,()=>e(d),a=>o(d,a)),I(u,()=>e(m),a=>o(m,a)),S("click",v,()=>b("login")),S("click",x,()=>b("register")),E(j,_),B()}export{Z as component};
