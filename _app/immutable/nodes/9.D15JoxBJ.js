import"../chunks/DsnmJJEf.js";import"../chunks/Co3yc64f.js";import{am as I,an as S,ao as s,f as J,ap as x,G as e,a as k,aq as N,ar as l,I as r,X as p,as as n}from"../chunks/tjmoeONZ.js";import{s as P}from"../chunks/r1iMuBZ-.js";import{i as T}from"../chunks/9jrT_3zx.js";import{r as E}from"../chunks/VJiT-DM5.js";import{e as C}from"../chunks/C-MdJe_B.js";import{b as O}from"../chunks/xRKiI9cN.js";import{i as X}from"../chunks/8ghubDwy.js";var $=S('<p style="color:#b91c1c"> </p>'),z=S('<h1>Acceso</h1> <div class="card" style="max-width:420px"><div style="display:grid;gap:8px"><input class="input" placeholder="Email" type="email"/> <input class="input" placeholder="ContraseÃ±a" type="password"/> <!> <div style="display:flex; gap:8px"><button class="button">Entrar</button> <button class="button" style="background:#fff;color:#111;border:1px solid #e5e7eb">Crear cuenta</button></div></div></div>',1);function U(j,q){I(q,!1);let d=p(""),c=p(""),o=p(""),i=p(!1);async function v(a){r(i,!0),r(o,"");try{const t=await fetch(`/api/auth/${a}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e(d),password:e(c)})});if(!t.ok)throw new Error(await t.text()||"Error");window.location.href="/"}catch(t){r(o,t.message)}r(i,!1)}X();var b=z(),h=s(J(b),2),_=l(h),m=l(_);E(m);var f=s(m,2);E(f);var y=s(f,2);{var A=a=>{var t=$(),G=l(t,!0);n(t),x(()=>P(G,e(o))),k(a,t)};T(y,a=>{e(o)&&a(A)})}var g=s(y,2),u=l(g),w=s(u,2);n(g),n(_),n(h),x(()=>{u.disabled=e(i),w.disabled=e(i)}),O(m,()=>e(d),a=>r(d,a)),O(f,()=>e(c),a=>r(c,a)),C("click",u,()=>v("login")),C("click",w,()=>v("register")),k(j,b),N()}export{U as component};
