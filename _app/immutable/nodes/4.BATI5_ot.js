import"../chunks/DsnmJJEf.js";import"../chunks/Co3yc64f.js";import{o as O}from"../chunks/DxZOmja6.js";import{am as Q,an as p,a as r,aq as W,I as $,X as A,G as e,ao as n,ar as t,as as s,c as I,f as C,ap as Y}from"../chunks/tjmoeONZ.js";import{s as d}from"../chunks/r1iMuBZ-.js";import{i as D}from"../chunks/9jrT_3zx.js";import{e as Z,i as aa}from"../chunks/DRDXhByV.js";import{e as H}from"../chunks/C-MdJe_B.js";import{s as ea}from"../chunks/BkpBN-0M.js";import{i as ta}from"../chunks/8ghubDwy.js";import{b as h}from"../chunks/BZQ5VCi3.js";var sa=p("<p>Cargando…</p>"),oa=p("<p>No tienes evaluaciones todavía.</p>"),ia=p('<div class="card svelte-cbyojb"><div style="display:flex;justify-content:space-between;align-items:start;"><div><h3 class="svelte-cbyojb"> </h3> <p class="meta svelte-cbyojb"> </p> <p class="meta svelte-cbyojb"> </p></div></div> <div style="font-size:13px;"><strong><span> </span></strong></div> <div class="actions svelte-cbyojb"><button class="btn svelte-cbyojb">Editar</button> <button class="btn svelte-cbyojb">Ver resultados</button></div></div>'),ra=p('<div class="container svelte-cbyojb"><div class="header svelte-cbyojb"><strong>¡Bienvenido de nuevo!</strong> <p style="margin:4px 0 0;color:#6b7280;font-size:14px;">Accede a tus evaluaciones éticas anteriores y continúa tu progreso profesional.</p></div> <h2 style="margin:0 0 12px;font-size:18px;">¡Hola!</h2> <p style="margin:0 0 16px;color:#6b7280;font-size:14px;">Revisa y continúa con tus evaluaciones éticas anteriores</p> <div class="tabs svelte-cbyojb"><div class="tab active svelte-cbyojb">Últimas evaluaciones</div> <div class="tab svelte-cbyojb">Pilares éticos</div> <div class="tab svelte-cbyojb">Herramientas IA</div> <div class="tab svelte-cbyojb">KITMU</div></div> <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;"><h3 style="margin:0;font-size:15px;">Últimas evaluaciones</h3> <button class="btn primary svelte-cbyojb">+ Nueva evaluación ética</button></div> <!></div>');function _a(L,M){Q(M,!1);let l=A([]),j=A(!0);O(async()=>{try{const a=await fetch(`${h}/api/evaluaciones`);if(!a.ok)throw new Error(await a.text());$(l,await a.json()),console.log(e(l))}catch(a){console.error("Error cargando evaluaciones:",a.message)}finally{$(j,!1)}}),ta();var b=ra(),N=n(t(b),10);{var R=a=>{var v=sa();r(a,v)},q=a=>{var v=I(),B=C(v);{var G=i=>{var c=oa();r(i,c)},K=i=>{var c=I(),P=C(c);Z(P,1,()=>e(l),aa,(S,o)=>{var m=ia(),u=t(m),x=t(u),f=t(x),T=t(f,!0);s(f);var y=n(f,2),U=t(y);s(y);var w=n(y,2),V=t(w);s(w),s(x),s(u);var _=n(u,2),E=t(_),g=t(E),X=t(g,!0);s(g),s(E),s(_);var k=n(_,2),z=t(k),F=n(z,2);s(k),s(m),Y(J=>{d(T,e(o).nombre),d(U,`Rol: ${e(o).rol??""} · Etapa: ${e(o).etapa??""}`),d(V,`Evaluado: ${J??""}`),ea(g,1,`estado ${e(o).estado??""}`,"svelte-cbyojb"),d(X,e(o).estado==="evaluado"?"Evaluado":"En progreso")},[()=>new Date(e(o).createdAt).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})]),H("click",z,()=>window.location.href=`${h}/evaluaciones/${e(o)._id}/checklist`),H("click",F,()=>window.location.href=`${h}/evaluaciones/${e(o)._id}/resultados`),r(S,m)}),r(i,c)};D(B,i=>{e(l).length===0?i(G):i(K,!1)},!0)}r(a,v)};D(N,a=>{e(j)?a(R):a(q,!1)})}s(b),r(L,b),W()}export{_a as component};
