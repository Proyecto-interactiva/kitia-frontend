import{r as Z}from"../chunks/hUONLBj8.js";import"../chunks/DsnmJJEf.js";import"../chunks/C3jkjRJ1.js";import{o as aa}from"../chunks/DsMb63vb.js";import{q as ea,x as ta,av as sa,ax as b,f as ra,aC as O,a as _,aw as la,az as s,ay as a,b as i,K as z,aA as t,s as E}from"../chunks/CdeIWoL4.js";import{e as S,s as T}from"../chunks/CUaUiNLG.js";import{i as G}from"../chunks/B1etJHai.js";import{e as oa,i as ia}from"../chunks/DbCOwyXC.js";import{s as r,A as D}from"../chunks/o3SDYzGp.js";import{s as na}from"../chunks/C6aGtPp3.js";import{i as va}from"../chunks/l0-HXMSf.js";import{b as h}from"../chunks/BnHEcNbp.js";function ca(f,o,n,v,k){ea&&ta();var c=o.$$slots?.[n],p=!1;c===!0&&(c=o.children,p=!0),c===void 0||c(f,p?()=>v:v)}const ma=!1,fa=!0,ka=!0,pa=async({fetch:f,url:o})=>{if(!localStorage.getItem("access_token")&&!o.pathname.includes("/login"))throw Z(302,"/login/");return{}},$a=Object.freeze(Object.defineProperty({__proto__:null,csr:fa,load:pa,prerender:ka,ssr:ma},Symbol.toStringTag,{value:"Module"}));var ua=b('<span class="brand-fallback svelte-1v2axqk">kit<span class="svelte-1v2axqk">IA</span></span>'),da=b('<a target="_blank"> </a>'),ga=b('<span class="kitmu-fallback svelte-1v2axqk">kit<span class="svelte-1v2axqk">mu</span></span>'),_a=b('<header class="topbar svelte-1v2axqk"><a class="brand svelte-1v2axqk" aria-label="Inicio"><img alt="kitIA" class="brand-logo svelte-1v2axqk"/> <!></a> <nav class="nav svelte-1v2axqk"></nav> <div class="actions svelte-1v2axqk"><a href="https://kitmu.cl/" class="kitmu svelte-1v2axqk" aria-label="KitMU" target="_blank" rel="noopener"><img alt="KitMU" class="svelte-1v2axqk"/> <!></a> <span class="name"> </span> <button class="logout svelte-1v2axqk">Cerrar sesión</button></div></header> <main class="container svelte-1v2axqk"><!></main> <footer class="footer svelte-1v2axqk"><div class="seal svelte-1v2axqk"><img alt="Pontificia Universidad Católica de Chile" class="svelte-1v2axqk"/> <div class="links svelte-1v2axqk"><a target="_blank" class="svelte-1v2axqk">Sobre KitIA</a> <a class="svelte-1v2axqk">Contacto</a> <a target="_blank" class="svelte-1v2axqk">Eduju</a> <a target="_blank" class="svelte-1v2axqk">Kit móvil</a> <a target="_blank" class="svelte-1v2axqk">Kitmu</a></div></div></footer>',1);function Ma(f,o){sa(o,!1),aa(()=>{const e=()=>{fetch(`${D}/health`).then(()=>{console.log("Conectado al servidor")})};e();const l=setInterval(e,6e4);return()=>clearInterval(l)});const n={logo:"/img/logo-kitia.svg",kitmu:"/img/logo-kitmu.svg",sealLeft:"/img/seal-left.svg"};let v=z(!1),k=z(!1);const c=[{href:`${h}/`,label:"Inicio",pill:"rose"},{href:"https://kitmu.cl/sobre-kitia/",label:"Sobre KitIA",pill:"yellow"},{href:`${h}/app`,label:"KitIA APP",pill:"green"}];async function p(){await fetch(`${D}/auth/logout`,{method:"POST"}),localStorage.removeItem("access_token"),window.location.href=`${h}/login`}let F=localStorage.getItem("email")||"Usuario";va();var K=_a(),x=ra(K),u=s(x),d=s(u),H=a(d,2);{var J=e=>{var l=ua();_(e,l)};G(H,e=>{i(v)&&e(J)})}t(u);var q=a(u,2);oa(q,5,()=>c,ia,(e,l)=>{var m=da(),Y=s(m,!0);t(m),O(()=>{na(m,1,`pill ${i(l).pill??""}`,"svelte-1v2axqk"),r(m,"href",i(l).href),T(Y,i(l).label)}),_(e,m)}),t(q);var w=a(q,2),I=s(w),g=s(I),N=a(g,2);{var Q=e=>{var l=ga();_(e,l)};G(N,e=>{i(k)&&e(Q)})}t(I);var y=a(I,2),R=s(y,!0);t(y);var V=a(y,2);t(w),t(x);var A=a(x,2),W=s(A);ca(W,o,"default",{}),t(A);var C=a(A,2),P=s(C),$=s(P),M=a($,2),j=s(M);r(j,"href","https://kitmu.cl/sobre-kitia");var U=a(j,2);r(U,"href","mailto:kitia.app@gmail.com");var B=a(U,2);r(B,"href","https://eduju.cl");var L=a(B,2);r(L,"href","https://kitmovil.com");var X=a(L,2);r(X,"href","https://kitmu.cl"),t(M),t(P),t(C),O(()=>{r(u,"href",`${h}/app`),r(d,"src",n.logo),d.hidden=i(v),r(g,"src",n.kitmu),g.hidden=i(k),T(R,F),r($,"src",n.sealLeft)}),S("error",d,()=>E(v,!0)),S("error",g,()=>E(k,!0)),S("click",V,p),_(f,K),la()}export{Ma as component,$a as universal};
