import"../chunks/DsnmJJEf.js";import"../chunks/HvFHLxn-.js";import{o as Q}from"../chunks/BgOYLd6G.js";import{am as W,an as p,a as n,aq as X,s as A,v as z,b as a,ao as l,ar as e,as as t,c as $,f as I,ap as Y}from"../chunks/DhylKWSF.js";import{s as d}from"../chunks/DTfuptwf.js";import{i as B}from"../chunks/CDL6dHyM.js";import{e as Z,i as aa}from"../chunks/BC-fFCVV.js";import{e as C}from"../chunks/C5OcQcsF.js";import{s as ea}from"../chunks/Dzpvdw7r.js";import{i as ta}from"../chunks/CEzXZQFJ.js";import{b as S}from"../chunks/BQK9fp21.js";import{A as sa}from"../chunks/gz7YWXWY.js";var oa=p("<p>Cargando…</p>"),ia=p("<p>No tienes evaluaciones todavía.</p>"),ra=p('<div class="card svelte-cbyojb"><div style="display:flex;justify-content:space-between;align-items:start;"><div><h3 class="svelte-cbyojb"> </h3> <p class="meta svelte-cbyojb"> </p> <p class="meta svelte-cbyojb"> </p></div></div> <div style="font-size:13px;"><strong><span> </span></strong></div> <div class="actions svelte-cbyojb"><button class="btn svelte-cbyojb">Editar</button> <button class="btn svelte-cbyojb">Ver resultados</button></div></div>'),na=p('<div class="container svelte-cbyojb"><div class="header svelte-cbyojb"><strong>¡Bienvenido de nuevo!</strong> <p style="margin:4px 0 0;color:#6b7280;font-size:14px;">Accede a tus evaluaciones éticas anteriores y continúa tu progreso profesional.</p></div> <h2 style="margin:0 0 12px;font-size:18px;">¡Hola!</h2> <p style="margin:0 0 16px;color:#6b7280;font-size:14px;">Revisa y continúa con tus evaluaciones éticas anteriores</p> <div class="tabs svelte-cbyojb"><div class="tab active svelte-cbyojb">Últimas evaluaciones</div> <div class="tab svelte-cbyojb">Pilares éticos</div> <div class="tab svelte-cbyojb">Herramientas IA</div> <div class="tab svelte-cbyojb">KITMU</div></div> <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;"><h3 style="margin:0;font-size:15px;">Últimas evaluaciones</h3> <button class="btn primary svelte-cbyojb">+ Nueva evaluación ética</button></div> <!></div>');function ha(T,D){W(D,!1);let c=z([]),h=z(!0);Q(async()=>{try{const s=localStorage.getItem("access_token")||"",o=await fetch(`${sa}/evaluaciones/list`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},credentials:"include",mode:"cors"});if(!o.ok)throw new Error(await o.text());A(c,await o.json()),console.log(a(c))}catch(s){console.error("Error cargando evaluaciones:",s.message)}finally{A(h,!1)}}),ta();var b=na(),H=l(e(b),10);{var L=s=>{var o=oa();n(s,o)},M=s=>{var o=$(),N=I(o);{var P=r=>{var v=ia();n(r,v)},R=r=>{var v=$(),q=I(v);Z(q,1,()=>a(c),aa,(G,i)=>{var m=ra(),u=e(m),j=e(u),f=e(j),K=e(f,!0);t(f);var y=l(f,2),U=e(y);t(y);var x=l(y,2),V=e(x);t(x),t(j),t(u);var _=l(u,2),w=e(_),g=e(w),F=e(g,!0);t(g),t(w),t(_);var E=l(_,2),k=e(E),J=l(k,2);t(E),t(m),Y(O=>{d(K,a(i).nombre),d(U,`Rol: ${a(i).rol??""} · Etapa: ${a(i).etapa??""}`),d(V,`Evaluado: ${O??""}`),ea(g,1,`estado ${a(i).estado??""}`,"svelte-cbyojb"),d(F,a(i).estado==="evaluado"?"Evaluado":"En progreso")},[()=>new Date(a(i).createdAt).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})]),C("click",k,()=>window.location.href=`${S}/evaluaciones/${a(i)._id}/checklist`),C("click",J,()=>window.location.href=`${S}/evaluaciones/${a(i)._id}/resultados`),n(G,m)}),n(r,v)};B(N,r=>{a(c).length===0?r(P):r(R,!1)},!0)}n(s,o)};B(H,s=>{a(h)?s(L):s(M,!1)})}t(b),n(T,b),X()}export{ha as component};
