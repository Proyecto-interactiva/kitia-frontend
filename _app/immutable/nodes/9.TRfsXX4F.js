import"../chunks/DsnmJJEf.js";import"../chunks/Co3yc64f.js";import{am as I,an as S,ao as o,f as J,ap as x,G as r,a as k,aq as N,ar as p,I as e,X as l,as as n}from"../chunks/tjmoeONZ.js";import{s as P}from"../chunks/r1iMuBZ-.js";import{i as T}from"../chunks/9jrT_3zx.js";import{r as E}from"../chunks/VJiT-DM5.js";import{e as $}from"../chunks/C-MdJe_B.js";import{b as C}from"../chunks/xRKiI9cN.js";import{i as X}from"../chunks/8ghubDwy.js";import{b as O}from"../chunks/dqRzRQ44.js";var z=S('<p style="color:#b91c1c"> </p>'),B=S('<h1>Acceso</h1> <div class="card" style="max-width:420px"><div style="display:grid;gap:8px"><input class="input" placeholder="Email" type="email"/> <input class="input" placeholder="ContraseÃ±a" type="password"/> <!> <div style="display:flex; gap:8px"><button class="button">Entrar</button> <button class="button" style="background:#fff;color:#111;border:1px solid #e5e7eb">Crear cuenta</button></div></div></div>',1);function W(j,q){I(q,!1);let c=l(""),d=l(""),s=l(""),i=l(!1);async function v(a){e(i,!0),e(s,"");try{const t=await fetch(`${O}/api/auth/${a}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:r(c),password:r(d)})});if(!t.ok)throw new Error(await t.text()||"Error");window.location.href=`${O}/inicio`}catch(t){e(s,t.message)}e(i,!1)}X();var b=B(),h=o(J(b),2),_=p(h),m=p(_);E(m);var f=o(m,2);E(f);var y=o(f,2);{var A=a=>{var t=z(),G=p(t,!0);n(t),x(()=>P(G,r(s))),k(a,t)};T(y,a=>{r(s)&&a(A)})}var g=o(y,2),u=p(g),w=o(u,2);n(g),n(_),n(h),x(()=>{u.disabled=r(i),w.disabled=r(i)}),C(m,()=>r(c),a=>e(c,a)),C(f,()=>r(d),a=>e(d,a)),$("click",u,()=>v("login")),$("click",w,()=>v("register")),k(j,b),N()}export{W as component};
