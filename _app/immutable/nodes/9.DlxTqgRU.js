import"../chunks/DsnmJJEf.js";import"../chunks/HvFHLxn-.js";import{am as P,an as j,ao as r,f as q,ap as k,b as e,a as E,aq as B,ar as n,s as o,v as p,as as c}from"../chunks/DhylKWSF.js";import{s as J}from"../chunks/DTfuptwf.js";import{i as N}from"../chunks/CDL6dHyM.js";import{r as A}from"../chunks/4qz2waaI.js";import{e as S}from"../chunks/C5OcQcsF.js";import{b as $}from"../chunks/ZjHj3Id7.js";import{i as T}from"../chunks/CEzXZQFJ.js";import{A as z}from"../chunks/gz7YWXWY.js";import{b as D}from"../chunks/BQK9fp21.js";var F=j('<p style="color:#b91c1c"> </p>'),G=j('<h1>Acceso</h1> <div class="card" style="max-width:420px"><div style="display:grid;gap:8px"><input class="input" placeholder="Email" type="email"/> <input class="input" placeholder="ContraseÃ±a" type="password"/> <!> <div style="display:flex; gap:8px"><button class="button">Entrar</button> <button class="button" style="background:#fff;color:#111;border:1px solid #e5e7eb">Crear cuenta</button></div></div></div>',1);function Z(C,I){P(I,!1);let d=p(""),m=p(""),s=p(""),i=p(!1);async function b(a){o(i,!0),o(s,"");try{const t=await fetch(`${z}/auth/${a}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e(d),password:e(m)}),credentials:"include",mode:"cors"});if(!t.ok)throw new Error(await t.text()||"Error");const l=await t.json();console.log("login data",l),localStorage.setItem("access_token",l.access_token),window.location.href=`${D}/tutor/`}catch(t){o(s,t.message)}finally{o(i,!1)}}T();var _=G(),g=r(q(_),2),h=n(g),f=n(h);A(f);var u=r(f,2);A(u);var y=r(u,2);{var O=a=>{var t=F(),l=n(t,!0);c(t),k(()=>J(l,e(s))),E(a,t)};N(y,a=>{e(s)&&a(O)})}var w=r(y,2),v=n(w),x=r(v,2);c(w),c(h),c(g),k(()=>{v.disabled=e(i),x.disabled=e(i)}),$(f,()=>e(d),a=>o(d,a)),$(u,()=>e(m),a=>o(m,a)),S("click",v,()=>b("login")),S("click",x,()=>b("register")),E(C,_),B()}export{Z as component};
