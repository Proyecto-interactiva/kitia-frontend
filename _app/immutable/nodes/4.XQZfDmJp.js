import"../chunks/DsnmJJEf.js";import"../chunks/Co3yc64f.js";import{o as J}from"../chunks/DxZOmja6.js";import{am as O,an as p,a as r,aq as Q,I as z,X as A,G as e,ao as n,ar as t,as as s,c as I,f as C,ap as W}from"../chunks/tjmoeONZ.js";import{s as d}from"../chunks/r1iMuBZ-.js";import{i as D}from"../chunks/9jrT_3zx.js";import{e as Y,i as Z}from"../chunks/DRDXhByV.js";import{e as H}from"../chunks/C-MdJe_B.js";import{s as aa}from"../chunks/BkpBN-0M.js";import{i as ea}from"../chunks/8ghubDwy.js";var ta=p("<p>Cargando…</p>"),sa=p("<p>No tienes evaluaciones todavía.</p>"),oa=p('<div class="card svelte-cbyojb"><div style="display:flex;justify-content:space-between;align-items:start;"><div><h3 class="svelte-cbyojb"> </h3> <p class="meta svelte-cbyojb"> </p> <p class="meta svelte-cbyojb"> </p></div></div> <div style="font-size:13px;"><strong><span> </span></strong></div> <div class="actions svelte-cbyojb"><button class="btn svelte-cbyojb">Editar</button> <button class="btn svelte-cbyojb">Ver resultados</button></div></div>'),ia=p('<div class="container svelte-cbyojb"><div class="header svelte-cbyojb"><strong>¡Bienvenido de nuevo!</strong> <p style="margin:4px 0 0;color:#6b7280;font-size:14px;">Accede a tus evaluaciones éticas anteriores y continúa tu progreso profesional.</p></div> <h2 style="margin:0 0 12px;font-size:18px;">¡Hola!</h2> <p style="margin:0 0 16px;color:#6b7280;font-size:14px;">Revisa y continúa con tus evaluaciones éticas anteriores</p> <div class="tabs svelte-cbyojb"><div class="tab active svelte-cbyojb">Últimas evaluaciones</div> <div class="tab svelte-cbyojb">Pilares éticos</div> <div class="tab svelte-cbyojb">Herramientas IA</div> <div class="tab svelte-cbyojb">KITMU</div></div> <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;"><h3 style="margin:0;font-size:15px;">Últimas evaluaciones</h3> <button class="btn primary svelte-cbyojb">+ Nueva evaluación ética</button></div> <!></div>');function fa(L,M){O(M,!1);let l=A([]),h=A(!0);J(async()=>{try{const a=await fetch("/api/evaluaciones");if(!a.ok)throw new Error(await a.text());z(l,await a.json()),console.log(e(l))}catch(a){console.error("Error cargando evaluaciones:",a.message)}finally{z(h,!1)}}),ea();var b=ia(),N=n(t(b),10);{var R=a=>{var v=ta();r(a,v)},$=a=>{var v=I(),q=C(v);{var B=i=>{var c=sa();r(i,c)},G=i=>{var c=I(),K=C(c);Y(K,1,()=>e(l),Z,(P,o)=>{var m=oa(),u=t(m),j=t(u),f=t(j),S=t(f,!0);s(f);var y=n(f,2),T=t(y);s(y);var x=n(y,2),U=t(x);s(x),s(j),s(u);var _=n(u,2),w=t(_),g=t(w),V=t(g,!0);s(g),s(w),s(_);var E=n(_,2),k=t(E),X=n(k,2);s(E),s(m),W(F=>{d(S,e(o).nombre),d(T,`Rol: ${e(o).rol??""} · Etapa: ${e(o).etapa??""}`),d(U,`Evaluado: ${F??""}`),aa(g,1,`estado ${e(o).estado??""}`,"svelte-cbyojb"),d(V,e(o).estado==="evaluado"?"Evaluado":"En progreso")},[()=>new Date(e(o).createdAt).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})]),H("click",k,()=>window.location.href=`/evaluaciones/${e(o)._id}/checklist`),H("click",X,()=>window.location.href=`/evaluaciones/${e(o)._id}/resultados`),r(P,m)}),r(i,c)};D(q,i=>{e(l).length===0?i(B):i(G,!1)},!0)}r(a,v)};D(N,a=>{e(h)?a(R):a($,!1)})}s(b),r(L,b),Q()}export{fa as component};
